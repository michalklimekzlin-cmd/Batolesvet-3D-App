<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chybo≈ærout-Oprav√°≈ô v2.3</title>
  <link rel="stylesheet" href="./style.css" />
  <meta name="theme-color" content="#0a0a0a" />
</head>
<body>
  <div class="header">
    <div class="title">üõ†Ô∏è Chybo≈ærout-Oprav√°≈ô v2.3</div>
    <div class="subtitle">‚ÄûV√≠ce hlav = m√©nƒõ p√°d≈Ø‚Äú</div>
  </div>

  <div id="scanLog" class="panel">Inicializace syst√©mu‚Ä¶</div>
  <button id="scanBtn">Spustit skenov√°n√≠</button>

  <footer>
    <p>Souƒç√°st syst√©mu Vivere atque FruiT ‚Ä¢ verze 2.3</p>
  </footer>

  <!-- Bezpeƒçn√© naƒçten√≠: nejd≈ô√≠v RepairNet, pak UI (app.js) -->
  <script>
    (function () {
      function load(src) {
        return new Promise((resolve, reject) => {
          const s = document.createElement('script');
          // cache-bust ‚Äî pro pevn√© verze pou≈æijeme statick√© ?v=2.3, jinak Date.now()
          s.src = src + (src.includes('?') ? '&' : '?') + 'v=' + (src.includes('repairnet.js') ? '2.3' : Date.now());
          s.onload = resolve;
          s.onerror = () => reject(new Error('Nepoda≈ôilo se naƒç√≠st: ' + src));
          document.body.appendChild(s);
        });
      }

      window.addEventListener('DOMContentLoaded', async () => {
        const box = document.getElementById('scanLog');
        try {
          await load('./repairnet.js');   // MUS√ç b√Ωt prvn√≠
          await load('./app.js');         // UI a≈æ po RepairNetu
          if (window.RepairNet) {
            const v = window.RepairNet.version || 'nezn√°m√°';
            box.textContent = '‚úÖ UI p≈ôipraveno ‚Ä¢ RepairNet v' + v;
          } else {
            box.textContent = '‚ö†Ô∏è UI p≈ôipraveno, ale RepairNet nen√≠ k dispozici.';
          }
        } catch (e) {
          if (box) box.textContent = '‚ùå ' + e.message;
        }
      });
    })();
  </script>
</body>
</html>
