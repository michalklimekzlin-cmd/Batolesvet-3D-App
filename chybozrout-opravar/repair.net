window.RepairNet = {
  version: '2.1',
  async scan() {
    const findings = [];
    try {
      const files = [
        '../index.html',
        '../app.js',
        '../vaft.engine.js',
        '../vaft.bus.js'
      ];

      for (const f of files) {
        findings.push(`Kontroluji ${f}‚Ä¶`);
        const resp = await fetch(f + '?v=' + Date.now());
        if (!resp.ok) {
          findings.push(`‚ùå Soubor ${f} se nepoda≈ôilo naƒç√≠st (${resp.status})`);
          continue;
        }
        const text = await resp.text();
        if (text.includes('<script><script>')) {
          findings.push(`‚ö†Ô∏è ${f}: nalezen dvojit√Ω <script>`);
        } else if (text.includes('console.log(')) {
          findings.push(`‚ÑπÔ∏è ${f}: obsahuje logy (kontrola OK)`);
        } else {
          findings.push(`‚úÖ ${f}: bez zjevn√Ωch chyb`);
        }
      }
    } catch (e) {
      findings.push('üí• Chyba bƒõhem skenu: ' + e.message);
    }
    return findings;
  }
};
